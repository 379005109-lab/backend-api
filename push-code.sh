#!/bin/bash

echo "======================================"
echo "  æ¨é€ä»£ç åˆ° GitHub"
echo "======================================"
echo ""
echo "ä»“åº“åœ°å€: https://github.com/3780010199-lzb/backend-api.git"
echo ""

cd /home/devbox/project

echo "æ­£åœ¨æ¨é€ä»£ç ..."
git push -u origin main

if [ $? -eq 0 ]; then
    echo ""
    echo "âœ… ä»£ç æ¨é€æˆåŠŸï¼"
    echo ""
    echo "======================================"
    echo "  ä¸‹ä¸€æ­¥ï¼šåœ¨ LAF å¹³å°é…ç½®"
    echo "======================================"
    echo ""
    echo "1. å›åˆ° LAF å¹³å°"
    echo "2. ç‚¹å‡» '+ æ–°å»ºåº”ç”¨'"
    echo "3. é€‰æ‹© 'ä» Git ä»“åº“å¯¼å…¥'"
    echo ""
    echo "ğŸ“‹ å¡«å†™ä»¥ä¸‹ä¿¡æ¯ï¼š"
    echo ""
    echo "Git ä»“åº“åœ°å€:"
    echo "https://github.com/3780010199-lzb/backend-api.git"
    echo ""
    echo "åˆ†æ”¯: main"
    echo "å¯åŠ¨å‘½ä»¤: node server.js"
    echo "ç«¯å£: 5000"
    echo ""
    echo "ğŸ”§ ç¯å¢ƒå˜é‡ï¼ˆå¿…é¡»é…ç½®ï¼‰:"
    echo "NODE_ENV=production"
    echo "PORT=5000"
    echo "MONGODB_URI=mongodb://root:q5rdw4tb@test-db-mongodb.ns-cxxiwxce.svc:27017/backend_db?authSource=admin"
    echo ""
    echo "âœ… è®°å¾—å‹¾é€‰ 'å¯ç”¨è‡ªåŠ¨éƒ¨ç½²'ï¼"
    echo ""
else
    echo ""
    echo "âŒ æ¨é€å¤±è´¥ï¼"
    echo ""
    echo "å¯èƒ½çš„åŸå› ï¼š"
    echo "1. ä»“åº“è¿˜æ²¡åˆ›å»º - è¯·å…ˆè®¿é—® https://github.com/new åˆ›å»ºä»“åº“"
    echo "2. éœ€è¦è®¤è¯ - éœ€è¦åˆ›å»º Personal Access Token"
    echo ""
    echo "åˆ›å»º Token æ­¥éª¤ï¼š"
    echo "1. è®¿é—®: https://github.com/settings/tokens"
    echo "2. ç‚¹å‡» 'Generate new token (classic)'"
    echo "3. å‹¾é€‰ 'repo' æƒé™"
    echo "4. ç”Ÿæˆå¹¶å¤åˆ¶ Token"
    echo "5. å†æ¬¡è¿è¡Œæ¨é€å‘½ä»¤ï¼Œç”¨ Token ä½œä¸ºå¯†ç "
    echo ""
fi
